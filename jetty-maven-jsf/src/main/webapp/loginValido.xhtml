<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"  >
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	
	
	<!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>-->
	<script src="jquery-ui-1.11.4.custom/jquery-ui.js"></script>
	<!--  <link rel="stylesheet" type="text/css" href="jquery-ui-1.11.4.custom/jquery-ui.css" media="screen" />-->
	<link rel="stylesheet" type="text/css" href="themes/humanity/jquery-ui.css" media="screen" />
 
	<title>Insert title here</title>
	<style>
		body {
			margin: 0;
			font-size: 12px;
		}
		
		ul.topnav {
			list-style-type: none;
			margin: 0;
			padding: 0;
			overflow: hidden;
			background-color: #a46313;
		}
		
		ul.topnav li {
			float: left;
		}
		
		ul.topnav li a {
			display: inline-block;
			color: #f2f2f2;
			text-align: center;
			padding: 14px 16px;
			text-decoration: none;
			transition: 0.3s;
			font-size: 17px;
		}
		
		ul.topnav li a:hover {
			background-color: #111;
		}
		
		ul.topnav li.icon {
			display: none;
		}
		
		@media screen and (max-width:680px) {
			ul.topnav li:not (:first-child ) {
				display: none;
			}
			ul.topnav li.icon {
				float: right;
				display: inline-block;
			}
		}
		
		@media screen and (max-width:680px) {
			ul.topnav.responsive {
				position: relative;
			}
			ul.topnav.responsive li.icon {
				position: absolute;
				right: 0;
				top: 0;
			}
			ul.topnav.responsive li {
				float: none;
				display: inline;
			}
			ul.topnav.responsive li a {
				display: block;
				text-align: left;
			}
		}
						
		.mi-menu {
			position:absolute;
			border-width:1px;
			border-color:#a46313;
			border-style:solid;
			width:200px;
			height:100px
		}		
	</style>

	<script>
		function myFunction() {
		    document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
		}
		
		$(function() {
			$("#menuArchivo").menu({
				  position: { my: "center top", at: "right bottom" }
			});
			$("#menuModulos").menu({
				  position: { my: "center top", at: "right bottom" }
			});
			$("#menuAdmin").menu({
				  position: { my: "center top", at: "right bottom" }
			});
			$("#menuAcerca").menu({
				  position: { my: "center top", at: "right bottom" }
			});
			
			$("#acerca").dialog({
				width :400,
				height :300,
				autoOpen: false
			});
									
			$("#listadoPelus").dialog({
				width :900,
				height :600,
				autoOpen: false,
				title: "Peluquerías"
			});
			
			$("#dialogoBorrar").dialog({
				width :300,
				height :300,
				autoOpen: false,
				title: "Cuidado!!!",
				buttons: [
				          {
				            text: "Sí",
				            icons: {
				              primary: "ui-icon-trash"
				            },
				            click: function() {
				            	$(".botonBorrar").click();
				              $( this ).dialog( "close" );				              	
				            }				       				         
				            //showText: false
				          },
				          {
				            text: "No",
				            icons: {
				              primary: "ui-icon-home"
				            },
				            click: function() {
				              $( this ).dialog( "close" );
				              return false;
				            }				       				         
				            //showText: false
				          }
				          
				        ]
			});
			
			
		});
	</script>

	
	<style>
		.enlace-cerrar-sesion {
			width: 100%;
			text-align: right;
		}
	</style>
	
	<style>
		.order-table{   
			border-collapse:collapse;
			width: 100%;
		}
		
		.order-table-header{
			text-align:center;
			background-color: #E5E5E5;
			border-bottom:1px solid #BBBBBB;
			padding:16px;
		}
		
		.order-table-odd-row{
			text-align:center;
			background-color: #FFC500;
			border-top:1px solid #BBBBBB;
		}
		
		.order-table-even-row{
			text-align:center;
			background-color: #F9F9F9;
			border-top:1px solid #BBBBBB;
		}
	</style>
</h:head>
<body >
	<h:form>			
		<h3>Mi WebApp</h3>
		
		<ul class="topnav">
			<li>
				<a class="active" href="#home" onclick="$('.mi-menu').hide();$('#menuArchivo').toggle()">
					Archivo
				</a>
			</li>	
			<li>
				<a href="#contact" onclick="$('.mi-menu').hide();$('#menuModulos').toggle()">
					Módulos
				</a>
			</li>
			<li>
				<a href="#contact" onclick="$('.mi-menu').hide();$('#menuAdmin').toggle()">
					Administración
				</a>
			</li>
			<li>
				<a href="#about" onclick="$('.mi-menu').hide();$('#acerca').dialog('open')">
					Acerca de...
				</a>
			</li>
			<li class="icon">
				<a href="javascript:void(0);" style="font-size: 15px;" onclick="myFunction()">
					&equiv;
				</a>
			</li>
		</ul>	
		
		
		<div style="width:100%;height:150px" onclick="$('.mi-menu').hide()">
			<div id="menuArchivo" class="mi-menu" style="display:none">				
				<div>
					<h:commandLink class="cerrar-sesion" actionListener="#{utilidades.cerrarSesion}">Salir</h:commandLink>
				</div>		
			</div>
			
			<ul id="menuModulos" class="mi-menu" style="display:none;left:88px;">				
				<li>Peluquerías
					<ul>
						<li>
							Nueva
						</li>
						<li>						
							<h:commandLink action="#{controladorPelus.getObtenerPelus}">Listado</h:commandLink>
						</li>
					</ul>
				</li>		
			</ul>
			
			<ul id="menuAdmin" class="mi-menu" style="display:none;left: 180px">				
				<li>Usuarios
					<ul>
						<li>
							Nuevo
						</li>
						<li>
							Listado
						</li>
					</ul>
				</li>		
			</ul>
		</div>
		</h:form>
		
		<div id="acerca" style="display:none;">
			Mi Web App 2016
		</div>
		
		<c:if test="#{not empty controladorPelus.lista}">
			<script>
				$(function() {
					$("#listadoPelus").dialog("open");
				})
			</script>
		</c:if>
		
		<div id="listadoPelus" style="display:none">					
			<h:form id="miform" prependId="false">    
				<p:growl id="msgs" showDetail="true"/>		    
			    <p:dataTable id="pelus" var="pelu" value="#{controladorPelus.lista}" widgetVar="pelusTable"  emptyMessage="No hay registros" paginator="true" resizableColumns="true" rows="14" paginatorPosition="bottom" editable="true" >
			    
			    	<p:ajax event="rowEdit" listener="#{controladorPelus.onRowEdit}" update="msgs" />
 			        <p:ajax event="rowEditCancel" listener="#{controladorPelus.onRowCancel}" update="msgs" />
 
			                        
			        <p:column filterBy="#{pelu.peluNombre}" headerText="Nombre" filterMatchMode="contains">	
			        
			        	  <p:cellEditor>
			                  <f:facet name="output"><h:outputText value="#{pelu.peluNombre}" /></f:facet>
			                  <f:facet name="input"><p:inputText id="modelInput" value="#{pelu.peluNombre}" style="width:96%"/></f:facet>
			              </p:cellEditor>
			        		            
			        </p:column>
			        
			        <p:column filterBy="#{pelu.peluDireccion}" headerText="Dirección" filterMatchMode="contains">			        
			        	<p:cellEditor>
			                  <f:facet name="output"><h:outputText value="#{pelu.peluDireccion}" /></f:facet>
			                  <f:facet name="input"><p:inputText value="#{pelu.peluDireccion}" style="width:96%"/></f:facet>
			              </p:cellEditor>			              			            
			        </p:column>
			        
			        <p:column filterBy="#{pelu.peluTelefono}" headerText="telefono" filterMatchMode="contains">			        
			        	<p:cellEditor>
			                  <f:facet name="output"><h:outputText value="#{pelu.peluTelefono}" /></f:facet>
			                  <f:facet name="input"><p:inputText value="#{pelu.peluTelefono}" style="width:96%"/></f:facet>
			              </p:cellEditor>			        
			        </p:column>
			        
			        <p:column style="width:75px">
			            <h:commandButton class="botonBorrar" action="#{controladorPelus.borrar}" value="borrar" style="display:none">
			            	<f:param name="codigoPelu" value="#{pelu.peluId}"></f:param>
			            </h:commandButton>
			            
			            <input type="button" value="Borrar" onclick="$('#dialogoBorrar').dialog('open');"></input>
			        </p:column>
			        
			        <p:column style="width:32px">
			           <p:rowEditor />
			       </p:column>
			    </p:dataTable>			    			    
			    
			    
			    
			</h:form>
			<h:form>
			    <h:commandButton action="#{controladorPelus.nuevo}" value="Nueva">
			    </h:commandButton>
		    </h:form>
			<div id="dialogoBorrar">
		    	¿Desea borrar el registro?
		    </div>
		</div>		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
					
</body>
</html>